<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Task-7</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <h1>Get User Data From a Public API</h1>
  <button id="dataButton" type="button">Get Data</button>
  <button id="reloadButton" type="button">Reload Data</button>

  <h3>User Data</h3>
  <div id="userData"></div>
  <div id="errorMessage" class="error"></div>

  <script>
    const buttonId = document.getElementById('dataButton');
    const reloadButton = document.getElementById('reloadButton');
    const userData = document.getElementById('userData');
    const errorMessage = document.getElementById('errorMessage');

    async function fetchUserData() {
      userData.innerHTML = "";
      errorMessage.textContent = "";

      try {
        const response = await fetch('https://jsonplaceholder.typicode.com/users');
        if (!response.ok) {
          throw new Error("Failed to fetch data");
        }

        const data = await response.json();
        console.log("API Response:", data);

        data.forEach(user => {
          const div = document.createElement('div');
          div.classList.add('user-card');
          div.innerHTML = `
            <p><strong>Name:</strong> ${user.name}</p>
            <p><strong>Email:</strong> ${user.email}</p>
            <p><strong>Address:</strong> ${user.address.street}, ${user.address.city}</p>
          `;
          userData.appendChild(div);
        });
      } catch (error) {
        console.error("Error fetching data:", error);
        errorMessage.textContent = "Error fetching user data. Please check your internet connection.";
      }
    }

    buttonId.addEventListener('click', fetchUserData);
    reloadButton.addEventListener('click', fetchUserData);
  </script>
</body>
</html>
